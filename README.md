<div align="center">
<h1>
<img src="https://raw.githubusercontent.com/DataDog/datadog-for-vscode/1d2c8709c11224947332c13155c898a6700d4d6e/assets/images/readme/logo.png" width="200"/>

<b>Datadog for VS Code</b>

</h1>

<h3>The Datadog extension for VS Code integrates with <a href="https://app.datadoghq.com">Datadog</a> to accelerate your development.</h3>

[![Version](https://img.shields.io/visual-studio-marketplace/v/datadog.datadog-vscode?style=for-the-badge&colorA=252525&colorB=6B1DAC)](https://marketplace.visualstudio.com/items?itemName=datadog.datadog-vscode)
[![Installs](https://img.shields.io/visual-studio-marketplace/i/datadog.datadog-vscode?style=for-the-badge&colorA=252525&colorB=6B1DAC)](https://marketplace.visualstudio.com/items?itemName=datadog.datadog-vscode)
[![Downloads](https://img.shields.io/visual-studio-marketplace/d/datadog.datadog-vscode?style=for-the-badge&colorA=252525&colorB=6B1DAC)](https://marketplace.visualstudio.com/items?itemName=datadog.datadog-vscode)
[![Ratings](https://img.shields.io/visual-studio-marketplace/r/datadog.datadog-vscode?style=for-the-badge&colorA=252525&colorB=6B1DAC)](https://marketplace.visualstudio.com/items?itemName=datadog.datadog-vscode)

[Overview](#overview)
| [Requirements](#requirements)
| [License](#license)
| [Help and Feedback](#help-and-feedback)

<br/>

![screenshot](https://raw.githubusercontent.com/DataDog/datadog-for-vscode/80d6402c0fe80577d481f69a9ac199a3cbc2e374/assets/images/readme/0723/datadog-vscode.png)

</div>

## Overview

The Datadog extension packs several features including:

- [**Code Insights**](#code-insights) to keep you informed about

  - Issues from [Error Tracking][error_tracking]
  - Reports by [Application Vulnerability Management][vulnerability_management]
  - [Flaky tests][flaky_test_management] detected by CI Visibility
  - Profiling insights from [Watchdog Insights][watchdog]

- [**Synthetic Tests**](#synthetic-tests) to provide quality assurance during development by allowing you to run existing Synthetic Tests against local servers.

- [**View in VS Code**](#view-in-vs-code) to directly go from file references on the Datadog platform to your source files.

- [**Logs Navigation**](#logs-navigation) to allow you to easily search for logs from your code.

- [**Code Delta**](#code-delta) to more accurately map observability data to your files in VS Code.

- [**Static Analysis**](#static-analysis) to detect and fix problems even before you commit changes.

## Requirements

- **A Datadog account**: Most features require a Datadog account. If you're new to Datadog, go to the [Datadog website][datadog] to learn more about Datadog's observability tools and sign up for a free trial.

- **VS Code Git**: The extension works better when VS Code Git integration is enabled. You can make sure that the integration is enabled by looking into the `git.enabled` setting.

## Code Insights

The **Code Insights** tree displays insights generated by the Datadog platform that are relevant to your code-base. The Code Insights can be grouped by category, kind, priority, and file.

<!-- markdownlint-disable MD033 -->
<!-- markdownlint-disable MD041 -->
<center>
<br/>
<div><img src="https://raw.githubusercontent.com/DataDog/datadog-for-vscode/80d6402c0fe80577d481f69a9ac199a3cbc2e374/assets/images/readme/0723/code-insights.png" alt="The Code Insights view." /></div>
</center>
<!-- markdownlint-enable MD041 -->
<!-- markdownlint-enable MD033 -->

Code Insights include a detailed description for each issue, and links to:

- The related source code location
- The Datadog platform for additional information

You can dismiss individual Code Insights and set filters to only view the ones you are most interested in.

## Synthetic Tests

The Datadog extension enables you to [run Synthetic HTTP tests and browser tests on local environments][synthetics_tunnel] directly in VS Code. You can identify and address potential issues resulting from code changes before they are deployed into production and impact your end users.

> We currently only support [HTTP API tests][api_tests] and [Browser tests][browser_tests].

<!-- markdownlint-disable MD033 -->
<!-- markdownlint-disable MD041 -->
<center>
<br/>
<div><img src="https://raw.githubusercontent.com/DataDog/datadog-for-vscode/80d6402c0fe80577d481f69a9ac199a3cbc2e374/assets/images/readme/0723/vscode-extension-demo.png" alt="Synthetic Tests in VS Code"/></div>
</center>
<!-- markdownlint-enable MD041 -->
<!-- markdownlint-enable MD033 -->

### Run Synthetic tests locally

1. Select a Synthetic test to execute. You can search for specific tests by clicking the **Search** icon.
2. Change the test's configuration to convert the start URL and specify a `localhost` URL on the **Settings** page.
3. Run the test.

<!-- markdownlint-disable MD033 -->
<!-- markdownlint-disable MD041 -->
<center>
<br/>
<div><img src="https://raw.githubusercontent.com/DataDog/datadog-for-vscode/80d6402c0fe80577d481f69a9ac199a3cbc2e374/assets/images/readme/0723/test_configuration_modified_starturl.png" alt="The Test Configuration panel and Settings page where you can specify the start URL of a Synthetics test to a localhost URL"/></div>
</center>
<!-- markdownlint-enable MD041 -->
<!-- markdownlint-enable MD033 -->

If you haven't set up Synthetic tests already, [create a test in Datadog][synthetics_create]. For more information about running tests on a local environment, see [Getting Started with API Tests][synthetics_started], [Getting Started with Browser Tests][synthetics_browser], and the [Continuous Testing Tunnel documentation][synthetics_tunnel].

### Permissions

By default, only users with the [Datadog Admin and Datadog Standard roles][datadog_default_roles] can create, edit, and delete Synthetic HTTP and browser tests. To get create, edit, and delete access to Synthetic HTTP and browser tests, upgrade your user to one of those two [default roles][datadog_default_roles].

If you are using the [custom role feature][datadog_custom_roles], add your user to any custom role that includes `synthetics_read` and `synthetics_write` permissions.

## View in VS Code

The **View in VS Code** feature provides a link from Datadog directly to your source files. Look for the button next to frames in stack traces displayed in the UI (for example, in [Error Tracking][error_tracking]):

<!-- markdownlint-disable MD033 -->
<!-- markdownlint-disable MD041 -->
<center>
<br/>
<div><img src="https://raw.githubusercontent.com/DataDog/datadog-for-vscode/80d6402c0fe80577d481f69a9ac199a3cbc2e374/assets/images/readme/0723/view-in-vscode.png" alt="A stack trace on the Datadog platform showing the View in VS Code button."/></div>
</center>
<!-- markdownlint-enable MD041 -->
<!-- markdownlint-enable MD033 -->

> To use this feature, first configure [source code integration][source_code_integration] for your service.

## Logs navigation

You can navigate to the [Log Explorer][log_explorer] on the [Datadog platform][datadog] directly from your source code files.

If you're using a supported logging library, the extension is able to show you code lenses on the lines where it has detected log patterns that match the Datadog platform records:

<video src="https://github.com/DataDog/datadog-for-vscode/raw/main/assets/logs_navigation.mp4" controls title="Datadog Logs Navigation Demo"></video>

The currently supported logging libraries are:

- [@datadog/browser-logs](https://docs.datadoghq.com/logs/log_collection/javascript/)
- [Winston](https://github.com/winstonjs/winston)
- [Pino](https://github.com/pinojs/pino)
- [Bunyan](https://github.com/trentm/node-bunyan)
- [Log4js](https://github.com/log4js-node/log4js-node)

Alternatively, you can select some text in your source code, right click, and look for the **Datadog > Search Logs With Selected Text** option.

<!-- markdownlint-disable MD033 -->
<!-- markdownlint-disable MD041 -->
<center>
<br/>
<div><img src="https://raw.githubusercontent.com/DataDog/datadog-for-vscode/80d6402c0fe80577d481f69a9ac199a3cbc2e374/assets/images/readme/0723/log.png" alt="Enabling the Datadog logs explorer feature."/></div>
</center>
<!-- markdownlint-enable MD041 -->
<!-- markdownlint-enable MD033 -->

> All these features require you to sign in to [Datadog][datadog].

## Code Delta

Code Delta matches the line numbers included in Datadog telemetry to the line numbers of the files you are currently working in VS Code.

For example, all [View in VS Code](#view-in-vs-code) links on the Datadog platform encode runtime version info, and the extension uses that to compute the corresponding line of code in your editor, taking into account version changes.

You can tweak the Code Delta settings to change how the matching algorithm works. In particular, you can modify the `Minimum Affinity` value, which determines the degree of confidence required to match lines.

## Static Analysis

The [Static Analysis][static_analysis] integration analyzes your code (locally) against predefined rules to detect and fix problems.

The Datadog extension runs [Static Analysis][static_analysis] rules on your source files as you edit them. The goal is to detect and fix problems such as maintainability issues, bugs, or security vulnerabilities in your code before you commit your changes.

[Static Analysis][static_analysis] supports scanning for many programming languages. For a complete list, see [Static Analysis Rules][static_analysis_rules]. For file types belonging to supported languages, issues are shown in the source code editor, and suggested fixes can be applied directly.

When you start editing a source file, the extension checks for [static-analysis.datadog.yml][static_analysis_config_file] at your source repositoryâ€™s root. It prompts you to create it if necessary.

<video src="https://github.com/DataDog/datadog-for-vscode/raw/main/assets/static_analysis.mp4" controls title="Datadog Static Analysis Demo"></video>

## License

Please read this [End-User License Agreement][eula] carefully before downloading or using the Datadog Visual Studio Code Extension.

## Data and Telemetry

Datadog anonymously collects information about your usage of this IDE, including how you interact with it, whether errors occurred while using it, and what caused those errors, in accordance with the [Datadog Privacy Policy][datadog_privacy_policy] and Datadog's [VS Code extension EULA][eula].

If you don't wish to send this data to [Datadog][datadog], you can opt out at any time in the extension settings: `Datadog > Telemetry > Setup > Enable Telemetry`.

If you disable the [VS Code telemetry][vs_code_telemetry] the Datadog extension will respect this setting.

## Help and Feedback

To share your feedback, email [team-ide-integration@datadoghq.com][feedback_email] or create an issue in our [public repository][public_repo].

Check out the [issues][known_issues] section to discover known issues.

[api_tests]: https://docs.datadoghq.com/synthetics/api_tests/http_tests/?tab=requestoptions
[browser_tests]: https://docs.datadoghq.com/synthetics/browser_tests/?tab=requestoptions
[datadog_custom_roles]: https://docs.datadoghq.com/account_management/rbac/?tab=datadogapplication#custom-roles
[datadog_default_roles]: https://docs.datadoghq.com/account_management/rbac/?tab=datadogapplication#datadog-default-roles
[datadog_privacy_policy]: https://www.datadoghq.com/legal/privacy/
[datadog]: https://www.datadoghq.com/
[error_tracking]: https://docs.datadoghq.com/tracing/error_tracking/
[eula]: https://www.datadoghq.com/legal/eula/
[feedback_email]: mailto:team-ide-integration@datadoghq.com
[flaky_test_management]: https://docs.datadoghq.com/continuous_integration/guides/flaky_test_management/
[known_issues]: https://github.com/DataDog/datadog-for-vscode/issues?q=is%3Aissue
[log_explorer]: https://docs.datadoghq.com/logs/explorer/
[public_repo]: https://github.com/DataDog/datadog-for-vscode
[source_code_integration]: https://docs.datadoghq.com/integrations/guide/source-code-integration/
[static_analysis_config_file]: https://docs.datadoghq.com/continuous_integration/static_analysis/?tab=circleciorbs#setup
[static_analysis_rules]: https://docs.datadoghq.com/continuous_integration/static_analysis/rules
[static_analysis]: https://docs.datadoghq.com/continuous_integration/static_analysis
[synthetics_browser]: https://docs.datadoghq.com/getting_started/synthetics/browser_test
[synthetics_create]: https://app.datadoghq.com/synthetics/create
[synthetics_started]: https://docs.datadoghq.com/getting_started/synthetics/api_test/
[synthetics_tunnel]: https://docs.datadoghq.com/continuous_testing/testing_tunnel/
[vs_code_telemetry]: https://code.visualstudio.com/docs/getstarted/telemetry#_output-channel-for-telemetry-events
[vulnerability_management]: https://docs.datadoghq.com/security/application_security/vulnerability_management/
[watchdog]: https://docs.datadoghq.com/watchdog/insights/
